<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Lecturer Settings - Academia</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script>
  tailwind.config = {
    darkMode: "class",
    theme: {
      extend: {
        colors: {
          "primary": "#137fec",
          "background-light": "#f6f7f8",
          "background-dark": "#101922",
          "surface-light": "#ffffff",
          "surface-dark": "#1a2632",
        },
        fontFamily: { "display": ["Lexend", "sans-serif"] },
        borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
      },
    },
  }
</script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<style>
  .material-symbols-outlined {
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  }
  .fill-icon { font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24; }

  @keyframes fadeSlideRight {
    from { opacity: 0; transform: translateX(-28px); }
    to   { opacity: 1; transform: translateX(0); }
  }
  @keyframes fadeSlideDown {
    from { opacity: 0; transform: translateY(-16px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeSlideUp {
    from { opacity: 0; transform: translateY(22px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to   { opacity: 1; transform: scale(1); }
  }
  @keyframes navItemIn {
    from { opacity: 0; transform: translateX(-10px); }
    to   { opacity: 1; transform: translateX(0); }
  }
  @keyframes sectionIn {
    from { opacity: 0; transform: translateY(24px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  @keyframes pulseRing {
    0%   { box-shadow: 0 0 0 0 rgba(19,127,236,0.4); }
    70%  { box-shadow: 0 0 0 8px rgba(19,127,236,0); }
    100% { box-shadow: 0 0 0 0 rgba(19,127,236,0); }
  }
  @keyframes avatarPulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(19,127,236,0.3); }
    50%       { box-shadow: 0 0 0 8px rgba(19,127,236,0); }
  }
  @keyframes ripple {
    to { transform: scale(4); opacity: 0; }
  }
  @keyframes floatBg {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50%       { transform: translateY(-16px) rotate(5deg); }
  }
  @keyframes spin {
    to { transform: rotate(360deg); }
  }
  @keyframes shimmer {
    0%   { background-position: -200% center; }
    100% { background-position: 200% center; }
  }
  @keyframes toastSlide {
    0%   { transform: translateX(-50%) translateY(70px) scale(0.95); opacity: 0; }
    15%  { transform: translateX(-50%) translateY(0) scale(1); opacity: 1; }
    80%  { transform: translateX(-50%) translateY(0) scale(1); opacity: 1; }
    100% { transform: translateX(-50%) translateY(70px) scale(0.95); opacity: 0; }
  }
  @keyframes badgePop {
    0%   { transform: scale(0.7); opacity: 0; }
    70%  { transform: scale(1.08); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
  }
  @keyframes glowPulse {
    0%, 100% { opacity: 0.05; }
    50%       { opacity: 0.09; }
  }
  @keyframes dangerShake {
    0%, 100% { transform: translateX(0); }
    20%       { transform: translateX(-6px); }
    40%       { transform: translateX(6px); }
    60%       { transform: translateX(-4px); }
    80%       { transform: translateX(4px); }
  }
  @keyframes inputFocus {
    from { box-shadow: 0 0 0 0 rgba(19,127,236,0.3); }
    to   { box-shadow: 0 0 0 4px rgba(19,127,236,0.15); }
  }

  /* Entrances */
  aside.sidebar { animation: fadeSlideRight 0.5s ease both; }
  .breadcrumb   { animation: fadeSlideDown 0.4s 0.2s ease both; opacity:0; animation-fill-mode:both; }
  .page-heading { animation: fadeSlideDown 0.45s 0.3s ease both; opacity:0; animation-fill-mode:both; }
  .tabs-bar     { animation: fadeSlideDown 0.4s 0.38s ease both; opacity:0; animation-fill-mode:both; }

  .nav-item { animation: navItemIn 0.4s ease both; opacity:0; animation-fill-mode:both; }
  .nav-item:nth-child(1) { animation-delay: 0.18s; }
  .nav-item:nth-child(2) { animation-delay: 0.28s; }
  .nav-item:nth-child(3) { animation-delay: 0.36s; }
  .nav-item:nth-child(4) { animation-delay: 0.44s; }
  .nav-item:nth-child(5) { animation-delay: 0.52s; }

  .settings-section { animation: sectionIn 0.5s ease both; opacity:0; animation-fill-mode:both; }
  .settings-section:nth-child(1) { animation-delay: 0.5s; }
  .settings-section:nth-child(2) { animation-delay: 0.65s; }
  .settings-section:nth-child(3) { animation-delay: 0.8s; }
  .settings-section:nth-child(4) { animation-delay: 0.95s; }
  .settings-section:nth-child(5) { animation-delay: 1.1s; }

  /* Avatar */
  .avatar-ring { animation: avatarPulse 3s 2s ease-in-out infinite; transition: transform 0.25s ease; }
  .avatar-ring:hover { transform: scale(1.1); }
  .avatar-wrap { position: relative; display: inline-flex; cursor: pointer; }
  .avatar-overlay {
    position: absolute; inset: 0;
    background: rgba(19,127,236,0.75);
    border-radius: 9999px;
    display: flex; align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.22s ease;
  }
  .avatar-wrap:hover .avatar-overlay { opacity: 1; }

  /* Tabs */
  .tab-link { position: relative; transition: color 0.2s ease; cursor: pointer; }
  .tab-link::after {
    content: ''; position: absolute; bottom: -1px; left: 0; right: 0;
    height: 2px; background: #137fec;
    transform: scaleX(0); transition: transform 0.25s ease; transform-origin: left;
  }
  .tab-link.active { color: #137fec; font-weight: 600; }
  .tab-link.active::after { transform: scaleX(1); }

  /* Cards */
  .settings-card { transition: box-shadow 0.25s ease, transform 0.25s ease; }
  .settings-card:hover { box-shadow: 0 8px 30px rgba(0,0,0,0.07); transform: translateY(-1px); }

  /* Inputs */
  .form-field { transition: border-color 0.2s ease, box-shadow 0.2s ease; }
  .form-field:focus { animation: inputFocus 0.3s ease forwards; border-color: #137fec !important; outline: none; }
  .form-field:hover:not(:focus) { border-color: #94a3b8; }

  /* Buttons */
  .btn-primary {
    position: relative; overflow: hidden;
    transition: transform 0.15s ease, box-shadow 0.2s ease;
    background: linear-gradient(135deg, #137fec 0%, #0ea5e9 100%);
    background-size: 200% auto;
  }
  .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(19,127,236,0.35); animation: shimmer 1.5s linear infinite; }
  .btn-primary:active { transform: scale(0.97); }
  .btn-secondary { transition: background-color 0.2s ease, transform 0.15s ease; }
  .btn-secondary:hover { transform: translateY(-1px); }
  .btn-secondary:active { transform: scale(0.97); }
  .btn-danger { transition: background-color 0.2s ease, color 0.2s ease, transform 0.15s ease; }
  .btn-danger:hover { transform: translateY(-1px); }

  /* Ripple */
  .ripple-wrap { position: relative; overflow: hidden; }
  .ripple-effect {
    position: absolute; border-radius: 50%;
    width: 60px; height: 60px; margin-top: -30px; margin-left: -30px;
    background: rgba(255,255,255,0.35);
    animation: ripple 0.5s ease-out forwards; pointer-events: none;
  }

  /* Notification rows */
  .notif-row { transition: background-color 0.2s ease; animation: fadeSlideUp 0.4s ease both; opacity:0; animation-fill-mode:both; }
  .notif-row:nth-child(2) { animation-delay: 0.75s; }
  .notif-row:nth-child(3) { animation-delay: 0.85s; }
  .notif-row:nth-child(4) { animation-delay: 0.95s; }
  .notif-row:nth-child(5) { animation-delay: 1.05s; }

  /* Toggle */
  .toggle-checkbox:checked { right: 0; border-color: #137fec; }
  .toggle-checkbox:checked + .toggle-label { background-color: #137fec; }
  .toggle-checkbox, .toggle-label { transition: all 0.3s ease; }

  /* Password strength */
  .strength-bar-fill { transition: width 0.5s cubic-bezier(0.34,1.56,0.64,1), background-color 0.3s ease; }

  /* Appear cards */
  .appear-card { transition: border-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease; cursor: pointer; }
  .appear-card:hover { border-color: #137fec; transform: translateY(-2px); box-shadow: 0 6px 18px rgba(19,127,236,0.12); }
  .appear-card.selected { border-color: #137fec; background-color: rgba(19,127,236,0.05); }

  /* Integration rows */
  .account-row { transition: background-color 0.2s ease, transform 0.15s ease; animation: fadeSlideUp 0.4s ease both; opacity:0; animation-fill-mode:both; }
  .account-row:nth-child(2) { animation-delay: 0.8s; }
  .account-row:nth-child(3) { animation-delay: 0.9s; }
  .account-row:nth-child(4) { animation-delay: 1.0s; }
  .account-row:hover { transform: translateX(2px); }

  /* Danger zone */
  .danger-zone { transition: box-shadow 0.2s ease, transform 0.2s ease; }
  .danger-zone:hover { box-shadow: 0 4px 20px rgba(239,68,68,0.1); transform: translateY(-1px); }

  /* Floating orbs */
  .bg-orb { position: fixed; border-radius: 50%; pointer-events: none; filter: blur(90px); z-index: 0; }
  .bg-orb-1 { width:400px; height:400px; background:#137fec; top:-120px; right:-80px; animation: floatBg 11s ease-in-out infinite, glowPulse 7s ease-in-out infinite; opacity:0.05; }
  .bg-orb-2 { width:280px; height:280px; background:#6366f1; bottom:-60px; left:300px; animation: floatBg 14s 4s ease-in-out infinite, glowPulse 9s 2s ease-in-out infinite; opacity:0.04; }

  /* Toast */
  #toast { position:fixed; bottom:28px; left:50%; transform:translateX(-50%); z-index:9999; display:none; pointer-events:none; }
  #toast.show { display:flex; animation: toastSlide 3s ease forwards; }

  /* Spinner */
  .spinner { animation: spin 0.7s linear infinite; display:inline-block; }

  /* Nav transitions */
  nav a, nav button { transition: background-color 0.2s ease, color 0.2s ease, transform 0.15s ease; }
  nav a:hover, nav button:hover { transform: translateX(3px); }

  html { scroll-behavior: smooth; }
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
</style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 antialiased overflow-x-hidden transition-colors duration-300">

<div class="bg-orb bg-orb-1"></div>
<div class="bg-orb bg-orb-2"></div>


<div id="toast" class="items-center gap-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-5 py-3 rounded-xl shadow-2xl text-sm font-semibold">
  <span id="toast-icon" class="material-symbols-outlined fill-icon text-green-400 dark:text-green-600" style="font-size:20px;">check_circle</span>
  <span id="toast-msg">Saved!</span>
</div>

<div class="flex h-screen w-full overflow-hidden" style="position:relative;z-index:1;">

  
  <aside class="sidebar w-72 bg-surface-light dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 flex-shrink-0 hidden lg:flex flex-col h-full overflow-y-auto">
    <div class="p-6 flex flex-col h-full justify-between">
      <div class="flex flex-col gap-8">
        <div class="flex gap-3 items-center">
          <div class="avatar-ring flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 text-primary font-bold text-lg border-2 border-primary/30 ring-2 ring-primary/10 select-none">
            LA
          </div>
          <div class="flex flex-col">
            <h1 class="text-slate-900 dark:text-white text-base font-semibold leading-tight">Dr. Lateef Akinyemi</h1>
            <p class="text-slate-500 dark:text-slate-400 text-sm">Lecturer</p>
          </div>
        </div>
        <nav class="flex flex-col gap-1.5">
          <a class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 group" href="LecDASH.html">
            <span class="material-symbols-outlined text-[22px] group-hover:text-primary transition-colors">dashboard</span>
            <span class="text-sm font-medium">Dashboard</span>
          </a>
          <a class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 group" href="LecAttend.html">
            <span class="material-symbols-outlined text-[22px] group-hover:text-primary transition-colors">task_alt</span>
            <span class="text-sm font-medium">Attendance</span>
          </a>
          <a class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 group" href="LecAI.html">
            <span class="material-symbols-outlined text-[22px] group-hover:text-primary transition-colors">smart_toy</span>
            <span class="text-sm font-medium">AI Tutor</span>
          </a>
          <div class="h-px w-full bg-slate-200 dark:bg-slate-700 my-1"></div>
          <a class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg bg-primary/10 text-primary font-semibold" href="#">
            <span class="material-symbols-outlined fill-icon text-[22px]">settings</span>
            <span class="text-sm">Settings</span>
          </a>
        </nav>
      </div>
      <div class="flex flex-col gap-1.5">
        <button id="themeToggle" class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-left group">
          <span id="themeIcon" class="material-symbols-outlined text-[22px] group-hover:text-primary transition-all duration-300">dark_mode</span>
          <span id="themeLabel" class="text-sm font-medium">Dark Mode</span>
        </button>
        <a class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-slate-600 dark:text-slate-400 hover:text-red-600 group" href="#">
          <span class="material-symbols-outlined text-[22px] group-hover:text-red-500 transition-colors">logout</span>
          <span class="text-sm font-medium">Logout</span>
        </a>
        <div class="px-3 pt-2 text-xs text-slate-400 dark:text-slate-600">Academia v2.4.0</div>
      </div>
    </div>
  </aside>

  
  <main class="flex-1 flex flex-col h-full min-w-0 overflow-hidden relative">
    <div class="flex-1 overflow-y-auto no-scrollbar">
      <div class="max-w-[920px] mx-auto px-6 md:px-12 py-8 flex flex-col gap-8">

        
        <div class="breadcrumb flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400">
          <a class="hover:text-primary transition-colors" href="LecDASH.html">Home</a>
          <span class="material-symbols-outlined text-base">chevron_right</span>
          <span class="font-medium text-slate-900 dark:text-white">Settings</span>
        </div>

        
        <div class="page-heading flex flex-col gap-1">
          <h1 class="text-3xl md:text-4xl font-bold text-slate-900 dark:text-white tracking-tight">Settings</h1>
          <p class="text-slate-500 dark:text-slate-400 text-base">Manage your profile, security, notifications, and preferences.</p>
        </div>

        
        <div class="tabs-bar border-b border-slate-200 dark:border-slate-700 sticky top-0 bg-background-light dark:bg-background-dark z-10 pt-2">
          <div class="flex gap-6 overflow-x-auto no-scrollbar">
            <button data-tab="profile"       class="tab-link active flex items-center gap-2 pb-3 text-sm whitespace-nowrap">
              <span class="material-symbols-outlined text-[18px]">person</span> Profile
            </button>
            <button data-tab="security"      class="tab-link flex items-center gap-2 pb-3 text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap">
              <span class="material-symbols-outlined text-[18px]">lock</span> Security
            </button>
            <button data-tab="notifications" class="tab-link flex items-center gap-2 pb-3 text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap">
              <span class="material-symbols-outlined text-[18px]">notifications</span> Notifications
            </button>
            <button data-tab="appearance"    class="tab-link flex items-center gap-2 pb-3 text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap">
              <span class="material-symbols-outlined text-[18px]">palette</span> Appearance
            </button>
            <button data-tab="integrations"  class="tab-link flex items-center gap-2 pb-3 text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap">
              <span class="material-symbols-outlined text-[18px]">extension</span> Integrations
            </button>
          </div>
        </div>

        
        <section id="tab-profile" class="flex flex-col gap-6">
          
          <div class="settings-section settings-card bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 md:p-8 flex flex-col sm:flex-row items-center gap-6">
            <div class="avatar-wrap" title="Click to change photo" onclick="handlePhotoUpload()">
              <div class="w-20 h-20 rounded-full bg-primary/10 text-primary font-bold text-2xl border-2 border-primary/30 flex items-center justify-center select-none">LA</div>
              <div class="avatar-overlay text-white">
                <span class="material-symbols-outlined" style="font-size:22px;">photo_camera</span>
              </div>
            </div>
            <div class="flex flex-col gap-1 text-center sm:text-left">
              <h2 class="text-lg font-bold text-slate-900 dark:text-white">Dr. Lateef Akinyemi</h2>
              <p class="text-sm text-slate-500 dark:text-slate-400">Electronic &amp; Computer Engineering · Lecturer</p>
              <div class="flex gap-2 mt-3 justify-center sm:justify-start flex-wrap">
                <button onclick="handlePhotoUpload()" class="btn-primary ripple-wrap px-4 py-2 rounded-lg text-white text-sm font-medium flex items-center gap-2">
                  <span class="material-symbols-outlined text-[16px]">upload</span> Upload Photo
                </button>
                <button class="btn-secondary px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-transparent text-slate-700 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-800">
                  Remove
                </button>
              </div>
            </div>
          </div>

          
          <div class="settings-section settings-card bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 md:p-8">
            <h2 class="text-base font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2">
              <span class="material-symbols-outlined text-primary text-[20px]">badge</span> Personal Information
            </h2>
            <form class="grid grid-cols-1 md:grid-cols-2 gap-5">
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="firstName">First Name</label>
                <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5" id="firstName" type="text" value="Lateef"/>
              </div>
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="lastName">Last Name</label>
                <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5" id="lastName" type="text" value="Akinyemi"/>
              </div>
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="email">Email Address</label>
                <div class="relative">
                  <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5 pr-10" id="email" type="email" value="l.akinyemi@academia.edu"/>
                  <span class="absolute right-3 top-1/2 -translate-y-1/2 material-symbols-outlined fill-icon text-green-500 text-[18px]" title="Verified">verified</span>
                </div>
              </div>
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="phone">Phone Number</label>
                <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5" id="phone" type="tel" value="+234 801 234 5678"/>
              </div>
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="staffId">Staff ID <span class="text-slate-400 font-normal text-xs">(read-only)</span></label>
                <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-800/50 text-slate-400 dark:text-slate-500 text-sm p-2.5 cursor-not-allowed" id="staffId" type="text" value="LEC-20210042" readonly/>
              </div>
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="dept">Department</label>
                <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5" id="dept" type="text" value="Electronic &amp; Computer Engineering"/>
              </div>
              <div class="flex flex-col gap-1.5 md:col-span-2">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="bio">Bio <span class="text-slate-400 font-normal">(visible to students)</span></label>
                <textarea class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5 resize-none" id="bio" rows="3">Dr. Akinyemi specialises in machine learning, embedded systems, and digital signal processing. He has 12 years of teaching experience.</textarea>
                <p id="bioCount" class="text-xs text-slate-400 text-right mt-1">0 / 300</p>
              </div>
            </form>
            <div class="mt-8 pt-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3">
              <button class="btn-secondary px-5 py-2.5 bg-white dark:bg-transparent border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800">Cancel</button>
              <button onclick="saveSection('profile')" class="btn-primary ripple-wrap px-5 py-2.5 rounded-lg text-white text-sm font-semibold flex items-center gap-2" id="saveProfileBtn">
                <span id="saveProfileIcon" class="material-symbols-outlined text-[18px]">save</span>
                <span id="saveProfileLabel">Save Changes</span>
              </button>
            </div>
          </div>
        </section>

        
        <section id="tab-security" class="hidden flex-col gap-6">
          <div class="settings-section settings-card bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 md:p-8">
            <h2 class="text-base font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2">
              <span class="material-symbols-outlined text-primary text-[20px]">key</span> Change Password
            </h2>
            <form class="max-w-lg flex flex-col gap-5" onsubmit="return false;">
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="currentPass">Current Password</label>
                <div class="relative">
                  <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5 pr-10" id="currentPass" type="password" placeholder="Enter current password"/>
                  <button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors" onclick="togglePass('currentPass',this)">
                    <span class="material-symbols-outlined text-[18px]">visibility</span>
                  </button>
                </div>
              </div>
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="newPass">New Password</label>
                <div class="relative">
                  <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5 pr-10" id="newPass" type="password" placeholder="Minimum 8 characters" oninput="checkStrength(this.value)"/>
                  <button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors" onclick="togglePass('newPass',this)">
                    <span class="material-symbols-outlined text-[18px]">visibility</span>
                  </button>
                </div>
                <div class="mt-1.5 flex flex-col gap-1">
                  <div class="h-1.5 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">
                    <div id="strengthBar" class="strength-bar-fill h-full rounded-full w-0 bg-slate-300"></div>
                  </div>
                  <p id="strengthLabel" class="text-xs text-slate-400">Enter a password to see strength</p>
                </div>
              </div>
              <div class="flex flex-col gap-1.5">
                <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="confirmPass">Confirm New Password</label>
                <div class="relative">
                  <input class="form-field w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm p-2.5 pr-10" id="confirmPass" type="password" placeholder="Re-enter new password" oninput="checkMatch()"/>
                  <span id="matchIcon" class="hidden absolute right-3 top-1/2 -translate-y-1/2 material-symbols-outlined fill-icon text-[18px]"></span>
                </div>
              </div>
              <div class="pt-1">
                <button type="button" onclick="updatePassword()" class="btn-primary ripple-wrap px-5 py-2.5 rounded-lg text-white text-sm font-semibold flex items-center gap-2" id="updatePassBtn">
                  <span id="updatePassIcon" class="material-symbols-outlined text-[18px]">lock_reset</span>
                  <span id="updatePassLabel">Update Password</span>
                </button>
              </div>
            </form>
          </div>

          <div class="settings-section settings-card bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 md:p-8 flex flex-col gap-5">
            <h2 class="text-base font-bold text-slate-900 dark:text-white flex items-center gap-2">
              <span class="material-symbols-outlined text-primary text-[20px]">security</span> Account Security
            </h2>
            <div class="flex items-center justify-between gap-4 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 transition-colors hover:border-primary/30">
              <div class="flex items-start gap-3">
                <div class="w-9 h-9 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-blue-600 dark:text-blue-400 text-[20px]">smartphone</span>
                </div>
                <div>
                  <h3 class="font-semibold text-sm text-slate-900 dark:text-white">Two-Factor Authentication</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">Add an extra layer of security via an authenticator app.</p>
                </div>
              </div>
              <div class="relative inline-block w-12 flex-shrink-0 align-middle select-none">
                <input class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 border-slate-300 appearance-none cursor-pointer top-0" id="2fa-toggle" name="toggle" type="checkbox"/>
                <label class="toggle-label block overflow-hidden h-6 rounded-full bg-slate-300 cursor-pointer" for="2fa-toggle"></label>
              </div>
            </div>
            <div class="flex items-center justify-between gap-4 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 transition-colors hover:border-primary/30">
              <div class="flex items-start gap-3">
                <div class="w-9 h-9 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-green-600 dark:text-green-400 text-[20px]">laptop</span>
                </div>
                <div>
                  <h3 class="font-semibold text-sm text-slate-900 dark:text-white">Active Sessions</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">Lagos, Nigeria · Chrome on macOS · <span class="text-green-500 font-medium">Active now</span></p>
                </div>
              </div>
              <button class="text-xs px-3 py-1.5 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-red-300 hover:text-red-500 transition-all duration-200">Sign out</button>
            </div>
          </div>
        </section>

        
        <section id="tab-notifications" class="hidden flex-col gap-6">
          <div class="settings-section settings-card bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 divide-y divide-slate-100 dark:divide-slate-700">
            <div class="p-5 flex items-center justify-between gap-4">
              <p class="text-xs uppercase tracking-wide font-semibold text-slate-400 dark:text-slate-500">Email Notifications</p>
              <button onclick="toggleAllNotifs()" class="text-xs text-primary hover:underline font-medium transition-opacity hover:opacity-70">Toggle All</button>
            </div>
            <div class="notif-row p-5 flex items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
              <div class="flex items-center gap-3">
                <div class="w-9 h-9 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-blue-500 text-[18px]">assignment</span>
                </div>
                <div>
                  <h3 class="text-sm font-semibold text-slate-900 dark:text-white">Student Submission Alerts</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">Get notified when a student submits an assignment late.</p>
                </div>
              </div>
              <label class="relative inline-block w-11 h-6 flex-shrink-0 cursor-pointer">
                <input checked class="peer sr-only" type="checkbox"/>
                <div class="w-11 h-6 bg-slate-200 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary transition-colors duration-200"></div>
              </label>
            </div>
            <div class="notif-row p-5 flex items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
              <div class="flex items-center gap-3">
                <div class="w-9 h-9 rounded-lg bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-purple-500 text-[18px]">smart_toy</span>
                </div>
                <div>
                  <h3 class="text-sm font-semibold text-slate-900 dark:text-white">AI Grading Status</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">Get notified when AI finishes pre-grading a batch of papers.</p>
                </div>
              </div>
              <label class="relative inline-block w-11 h-6 flex-shrink-0 cursor-pointer">
                <input checked class="peer sr-only" type="checkbox"/>
                <div class="w-11 h-6 bg-slate-200 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary transition-colors duration-200"></div>
              </label>
            </div>
            <div class="notif-row p-5 flex items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
              <div class="flex items-center gap-3">
                <div class="w-9 h-9 rounded-lg bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-orange-500 text-[18px]">campaign</span>
                </div>
                <div>
                  <h3 class="text-sm font-semibold text-slate-900 dark:text-white">Department Announcements</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">News and updates from the faculty administration.</p>
                </div>
              </div>
              <label class="relative inline-block w-11 h-6 flex-shrink-0 cursor-pointer">
                <input checked class="peer sr-only" type="checkbox"/>
                <div class="w-11 h-6 bg-slate-200 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary transition-colors duration-200"></div>
              </label>
            </div>
            <div class="notif-row p-5 flex items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
              <div class="flex items-center gap-3">
                <div class="w-9 h-9 rounded-lg bg-pink-50 dark:bg-pink-900/20 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-pink-500 text-[18px]">tips_and_updates</span>
                </div>
                <div>
                  <h3 class="text-sm font-semibold text-slate-900 dark:text-white">Product Tips &amp; Updates</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">Receive tips and new feature announcements from Academia.</p>
                </div>
              </div>
              <label class="relative inline-block w-11 h-6 flex-shrink-0 cursor-pointer">
                <input class="peer sr-only" type="checkbox"/>
                <div class="w-11 h-6 bg-slate-200 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary transition-colors duration-200"></div>
              </label>
            </div>
          </div>
        </section>

        
        <section id="tab-appearance" class="hidden flex-col gap-6">
          <div class="settings-section settings-card bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 md:p-8 flex flex-col gap-8">
            
            <div class="flex flex-col gap-4">
              <h3 class="text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2">
                <span class="material-symbols-outlined text-primary text-[18px]">brightness_6</span> Theme
              </h3>
              <div class="grid grid-cols-3 gap-3 max-w-sm">
                <div class="appear-card selected rounded-xl border-2 border-primary p-4 flex flex-col items-center gap-2" onclick="selectTheme(this,'Light')">
                  <div class="w-12 h-8 rounded-lg bg-white border border-slate-200 shadow-sm"></div>
                  <span class="text-xs font-medium text-slate-700 dark:text-slate-300">Light</span>
                </div>
                <div class="appear-card rounded-xl border-2 border-slate-200 dark:border-slate-700 p-4 flex flex-col items-center gap-2" onclick="selectTheme(this,'Dark')">
                  <div class="w-12 h-8 rounded-lg bg-slate-900 border border-slate-700"></div>
                  <span class="text-xs font-medium text-slate-700 dark:text-slate-300">Dark</span>
                </div>
                <div class="appear-card rounded-xl border-2 border-slate-200 dark:border-slate-700 p-4 flex flex-col items-center gap-2" onclick="selectTheme(this,'System')">
                  <div class="w-12 h-8 rounded-lg border border-slate-200 overflow-hidden" style="background:linear-gradient(135deg,#fff 50%,#0f172a 50%)"></div>
                  <span class="text-xs font-medium text-slate-700 dark:text-slate-300">System</span>
                </div>
              </div>
            </div>
            
            <div class="flex flex-col gap-4">
              <h3 class="text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2">
                <span class="material-symbols-outlined text-primary text-[18px]">colorize</span> Accent Colour
              </h3>
              <div class="flex gap-3 flex-wrap">
                <button onclick="selectAccent(this)" class="accent-btn w-8 h-8 rounded-full bg-[#137fec] ring-2 ring-offset-2 ring-[#137fec] transition-all" title="Blue"></button>
                <button onclick="selectAccent(this)" class="accent-btn w-8 h-8 rounded-full bg-violet-600 ring-offset-2 hover:ring-2 hover:ring-violet-500 transition-all" title="Violet"></button>
                <button onclick="selectAccent(this)" class="accent-btn w-8 h-8 rounded-full bg-emerald-500 ring-offset-2 hover:ring-2 hover:ring-emerald-400 transition-all" title="Emerald"></button>
                <button onclick="selectAccent(this)" class="accent-btn w-8 h-8 rounded-full bg-rose-500 ring-offset-2 hover:ring-2 hover:ring-rose-400 transition-all" title="Rose"></button>
                <button onclick="selectAccent(this)" class="accent-btn w-8 h-8 rounded-full bg-amber-400 ring-offset-2 hover:ring-2 hover:ring-amber-300 transition-all" title="Amber"></button>
              </div>
            </div>
            
            <div class="flex flex-col gap-3">
              <h3 class="text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2">
                <span class="material-symbols-outlined text-primary text-[18px]">text_fields</span> Interface Font Size
              </h3>
              <div class="flex items-center gap-4 max-w-sm">
                <span class="text-xs text-slate-400">A</span>
                <input type="range" min="12" max="18" value="14" class="flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full appearance-none accent-primary cursor-pointer" oninput="document.getElementById('fontSizeVal').textContent=this.value+'px'"/>
                <span class="text-lg text-slate-400">A</span>
                <span id="fontSizeVal" class="text-xs font-mono text-slate-500 w-8 text-right">14px</span>
              </div>
            </div>
          </div>
        </section>

        
        <section id="tab-integrations" class="hidden flex-col gap-6">
          <div class="settings-section settings-card bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 divide-y divide-slate-100 dark:divide-slate-700">
            <div class="p-5">
              <h2 class="text-base font-bold text-slate-900 dark:text-white flex items-center gap-2">
                <span class="material-symbols-outlined text-primary text-[20px]">hub</span> Connected Services
              </h2>
              <p class="text-xs text-slate-500 dark:text-slate-400 mt-1">Manage third-party integrations with your Academia account.</p>
            </div>
            <div class="account-row p-5 flex items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-red-50 dark:bg-red-900/20 flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
                </div>
                <div>
                  <h3 class="text-sm font-semibold text-slate-900 dark:text-white">Google Workspace</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">Sync with Google Drive, Meet, and Calendar.</p>
                </div>
              </div>
              <button class="text-xs px-3 py-1.5 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined fill-icon text-[13px]">check_circle</span> Connected
              </button>
            </div>
            <div class="account-row p-5 flex items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-indigo-600" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
                </div>
                <div>
                  <h3 class="text-sm font-semibold text-slate-900 dark:text-white">Discord</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5">Share course notifications in Discord servers.</p>
                </div>
              </div>
              <button class="text-xs px-3 py-1.5 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 font-medium hover:border-primary hover:text-primary transition-all duration-200">Connect</button>
            </div>
            <div class="account-row p-5 flex items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-700/50 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-slate-600 dark:text-slate-400 text-[20px]">api</span>
                </div>
                <div>
                  <h3 class="text-sm font-semibold text-slate-900 dark:text-white">API Access</h3>
                  <p class="text-xs text-slate-500 dark:text-slate-400 mt-0.5 font-mono">••••••••••••ec4f</p>
                </div>
              </div>
              <button onclick="showToast('API key regenerated!')" class="text-xs px-3 py-1.5 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 font-medium hover:border-primary hover:text-primary transition-all duration-200">Regenerate</button>
            </div>
          </div>
        </section>

        
        <div class="danger-zone settings-section rounded-xl border border-red-200 dark:border-red-900/30 bg-red-50 dark:bg-red-900/10 p-6 flex items-center justify-between flex-wrap gap-4" style="animation-delay:1.2s;">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center flex-shrink-0">
              <span class="material-symbols-outlined text-red-600 dark:text-red-400 text-[20px]">warning</span>
            </div>
            <div>
              <h3 class="text-sm font-bold text-red-700 dark:text-red-400">Deactivate Account</h3>
              <p class="text-xs text-red-600/80 dark:text-red-400/70 mt-0.5">This will temporarily hide your profile and all your courses.</p>
            </div>
          </div>
          <button id="deactivateBtn" onclick="confirmDeactivate()" class="btn-danger ripple-wrap px-4 py-2 bg-white dark:bg-red-950 border border-red-300 dark:border-red-900 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium hover:bg-red-600 hover:text-white dark:hover:bg-red-700 dark:hover:text-white transition-all duration-200">
            Deactivate
          </button>
        </div>

      </div>
    </div>
  </main>
</div>

<script>
  const html = document.documentElement;

  // Dark mode
  document.getElementById('themeToggle').addEventListener('click', () => {
    html.classList.toggle('dark');
    const dark = html.classList.contains('dark');
    document.getElementById('themeIcon').textContent  = dark ? 'light_mode' : 'dark_mode';
    document.getElementById('themeLabel').textContent = dark ? 'Light Mode' : 'Dark Mode';
  });

  // Toast
  function showToast(msg, type = 'success') {
    const toast = document.getElementById('toast');
    const icon  = document.getElementById('toast-icon');
    document.getElementById('toast-msg').textContent = msg;
    icon.textContent = type === 'error' ? 'error' : 'check_circle';
    icon.className = `material-symbols-outlined fill-icon ${type === 'error' ? 'text-red-400' : 'text-green-400 dark:text-green-600'}`;
    icon.style.fontSize = '20px';
    toast.classList.remove('show');
    void toast.offsetWidth;
    toast.classList.add('show');
    toast.addEventListener('animationend', () => toast.classList.remove('show'), { once: true });
  }

  // Ripple
  function addRipple(btn, e) {
    const rect = btn.getBoundingClientRect();
    const r = document.createElement('span');
    r.className = 'ripple-effect';
    r.style.left = (e.clientX - rect.left) + 'px';
    r.style.top  = (e.clientY - rect.top)  + 'px';
    btn.appendChild(r);
    r.addEventListener('animationend', () => r.remove());
  }
  document.querySelectorAll('.ripple-wrap').forEach(btn => {
    btn.addEventListener('click', e => addRipple(btn, e));
  });

  // Tabs
  const tabBtns = document.querySelectorAll('.tab-link');
  const tabIds = { profile:'tab-profile', security:'tab-security', notifications:'tab-notifications', appearance:'tab-appearance', integrations:'tab-integrations' };

  function switchTab(key) {
    tabBtns.forEach(b => { b.classList.remove('active'); b.classList.add('text-slate-500','dark:text-slate-400'); });
    Object.values(tabIds).forEach(id => { const el = document.getElementById(id); el.classList.add('hidden'); el.classList.remove('flex'); });
    const activeBtn = document.querySelector(`[data-tab="${key}"]`);
    activeBtn.classList.add('active');
    activeBtn.classList.remove('text-slate-500','dark:text-slate-400');
    const sec = document.getElementById(tabIds[key]);
    sec.classList.remove('hidden');
    sec.classList.add('flex');
  }
  tabBtns.forEach(btn => btn.addEventListener('click', () => switchTab(btn.dataset.tab)));

  // Save
  function saveSection(section) {
    const cap = section.charAt(0).toUpperCase() + section.slice(1);
    const icon  = document.getElementById(`save${cap}Icon`);
    const label = document.getElementById(`save${cap}Label`);
    if (!icon) return;
    icon.className = 'spinner material-symbols-outlined text-[18px]';
    icon.textContent = 'sync';
    label.textContent = 'Saving…';
    setTimeout(() => {
      icon.className = 'material-symbols-outlined text-[18px]';
      icon.textContent = 'check';
      label.textContent = 'Saved!';
      showToast('Changes saved successfully!');
      setTimeout(() => { icon.textContent = 'save'; label.textContent = 'Save Changes'; }, 2200);
    }, 1200);
  }

  // Password strength
  function checkStrength(val) {
    const bar = document.getElementById('strengthBar');
    const lbl = document.getElementById('strengthLabel');
    let score = 0;
    if (val.length >= 8)          score++;
    if (/[A-Z]/.test(val))        score++;
    if (/[0-9]/.test(val))        score++;
    if (/[^A-Za-z0-9]/.test(val)) score++;
    const levels = [
      { pct:'10%', color:'#ef4444', text:'Very weak',    cls:'text-red-500' },
      { pct:'35%', color:'#f97316', text:'Weak',         cls:'text-orange-500' },
      { pct:'60%', color:'#eab308', text:'Medium',       cls:'text-yellow-500' },
      { pct:'85%', color:'#22c55e', text:'Strong',       cls:'text-green-500' },
      { pct:'100%',color:'#16a34a', text:'Very strong',  cls:'text-green-600' },
    ];
    if (!val.length) { bar.style.width='0'; lbl.textContent='Enter a password to see strength'; lbl.className='text-xs text-slate-400'; return; }
    const lvl = levels[score] || levels[0];
    bar.style.width = lvl.pct;
    bar.style.backgroundColor = lvl.color;
    lbl.textContent = `Password strength: ${lvl.text}`;
    lbl.className = `text-xs font-medium ${lvl.cls}`;
    checkMatch();
  }

  function checkMatch() {
    const np = document.getElementById('newPass').value;
    const cp = document.getElementById('confirmPass').value;
    const icon = document.getElementById('matchIcon');
    if (!cp) { icon.classList.add('hidden'); return; }
    icon.classList.remove('hidden');
    if (np === cp) { icon.textContent='check_circle'; icon.className='absolute right-3 top-1/2 -translate-y-1/2 material-symbols-outlined fill-icon text-[18px] text-green-500'; }
    else           { icon.textContent='cancel';       icon.className='absolute right-3 top-1/2 -translate-y-1/2 material-symbols-outlined fill-icon text-[18px] text-red-500'; }
  }

  function togglePass(id, btn) {
    const input = document.getElementById(id);
    const icon  = btn.querySelector('.material-symbols-outlined');
    input.type = input.type === 'password' ? 'text' : 'password';
    icon.textContent = input.type === 'password' ? 'visibility' : 'visibility_off';
  }

  function updatePassword() {
    const cur = document.getElementById('currentPass').value;
    const np  = document.getElementById('newPass').value;
    const cp  = document.getElementById('confirmPass').value;
    if (!cur || !np || !cp) { showToast('Please fill all fields.', 'error'); return; }
    if (np !== cp)           { showToast('Passwords do not match.', 'error'); return; }
    const icon  = document.getElementById('updatePassIcon');
    const label = document.getElementById('updatePassLabel');
    icon.className = 'spinner material-symbols-outlined text-[18px]';
    icon.textContent = 'sync';
    label.textContent = 'Updating…';
    setTimeout(() => {
      icon.className = 'material-symbols-outlined text-[18px]';
      icon.textContent = 'check';
      label.textContent = 'Updated!';
      showToast('Password updated successfully!');
      setTimeout(() => { icon.textContent = 'lock_reset'; label.textContent = 'Update Password'; }, 2200);
    }, 1400);
  }

  // Bio count
  const bioField = document.getElementById('bio');
  const bioCount = document.getElementById('bioCount');
  function updateBioCount() {
    const len = bioField.value.length;
    bioCount.textContent = `${len} / 300`;
    bioCount.className = `text-xs text-right mt-1 transition-colors duration-200 ${len > 280 ? 'text-red-500 font-semibold' : 'text-slate-400'}`;
    if (len > 300) bioField.value = bioField.value.slice(0, 300);
  }
  bioField.addEventListener('input', updateBioCount);
  updateBioCount();

  // Toggle all notifications
  function toggleAllNotifs() {
    const cbs = document.querySelectorAll('#tab-notifications input[type="checkbox"]');
    const anyOn = [...cbs].some(c => c.checked);
    cbs.forEach(c => c.checked = !anyOn);
    showToast(anyOn ? 'All notifications disabled.' : 'All notifications enabled.');
  }

  // Theme cards
  function selectTheme(card, name) {
    document.querySelectorAll('.appear-card').forEach(c => { c.classList.remove('selected','border-primary'); c.classList.add('border-slate-200','dark:border-slate-700'); });
    card.classList.add('selected','border-primary');
    card.classList.remove('border-slate-200','dark:border-slate-700');
    if (name === 'Dark') html.classList.add('dark');
    else if (name === 'Light') html.classList.remove('dark');
    showToast(`Theme set to ${name}.`);
  }

  // Accent colour
  function selectAccent(btn) {
    document.querySelectorAll('.accent-btn').forEach(b => { b.classList.remove('ring-2'); });
    btn.classList.add('ring-2');
    showToast('Accent colour updated.');
  }

  // Deactivate
  function confirmDeactivate() {
    const btn = document.getElementById('deactivateBtn');
    btn.textContent = 'Are you sure?';
    btn.style.animation = 'dangerShake 0.5s ease';
    btn.addEventListener('animationend', () => btn.style.animation='', { once: true });
    setTimeout(() => { btn.textContent = 'Deactivate'; }, 3500);
  }

  function handlePhotoUpload() { showToast('Photo upload coming soon!'); }
</script>
</body>
</html>